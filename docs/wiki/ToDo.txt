Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.26
Creation-Date: Fri, 12 Feb 2010 16:00:19 +0700
Modification-Date: Wed, 17 Mar 2010 10:39:01 +0630

====== ToDo ======

Here we will collect a list of things that need doing. Hopefully we can keep them up. If they are a big task then it would be good to create a separate page and link to this one.

===== Checks =====

**ID Check**
Need to have an ID check. Make sure that the code in the \id conforms to standard, i.e. uc and 3 known characters

**Fix Quote Checker**
Seems to be a problem sometimes with the quote checker not seeing two double open quotes in succession.

**Duplicated Output on Footnote Checks**
Seems to be outputting a duplicated message on problems in footnotes. They seem to be found in checkbook and then reported again in checkfootnote. Checkfootnote may not be needed as the SFM parser might be getting the error instead.

**Pre-Pub Checking Tool**
It would be nice if we packaged up all the checks we have developed independently of the ptxplus system and give them to end users to run on their texts and give them a report of potential problems they might have. It could report things like:
* Non-conformance to USFM standard
* Potential excessively long paragraphs
* Punctuation errors, quotes out of sync or on the wrong side of the sentence punctuation, etc.

This tool could also help with conversion to XML formats as well.

===== Encoding =====

**Project Startup**
There needs to be a way to deal with non-Unicode data on project startup. The way the system works now, it needs to have all text in Unicode. If it isn't checks that are performed on the text before it is imported into the project (at which time it could be converted) fail because the Python scripts fail. We either need to draw a hard-line on not accepting non-Unicode text, or we need to be able to do conversions to the text before it is checked. Both have their pros and cons.

===== pdf2ptx Work =====

**Page Number Control**
There needs to be better control of page numbers on peripheral material. Right now it is necessary to insert a "dummy" \v in an introduction section to get the page number to appear on the second page of a section.

**Flying Verses (auto-bridge needed)**
In cases like 1 Thess. 5:16-17 verses can be really short so that it will cause verse 16 and 17 to be over-printed. We need to find a way to auto-bridge in these instances.

===== Makefile Work =====

**matter_peripheral.mk**
Come up with a way to process the TOC separately for the NT and OT. And while we're at it, find a way to generate a TOC for both together if a switch is set.

**Draft mode**
Typically, when drafting a project, crop marks are used and the word "Draft" is watermarked on the page. We need to have some kind of "mode" that will automatically do the right thing for the publication when in Draft mode (or not). It might be that the best way would be to have separate settings for the draft watermark and the crop marks and then just turn them both on when it is needed that way. More thought needs to go into this.

===== Templates =====

**COVER_SPINE.USFM/TEX**
This template exists but it needs to be modified with some [[TeX]] code that will allow you to paste in the text you want on the spine of the cover. Then when it is processed, it will turn the text the right way. After that you could control the size of the text and the horizontal and vertical positions from the [[.tex]] file. This would greatly simplify making the cover spine page.

To do this, it looks like we may need to get a [[LaTeX]] module that supports text rotation and integrate it into the system. It may not be easy.

===== Maps =====

**All Map Backgrounds**
The backgrounds need to be redone so that the maximum resolution is used. Also, they need to be properly sized. The optimal map size seems to be 120 x 200 mm. The border needs to be about 1-1.5 pts~.

**CMYK Color Conversion**
Fix the problem that we currently have with there being CMY outlines where there needs to only be black (K) or perhaps some kind of gray if possible for text to maintain hinting effects. The problem seems to be with [[ImageMagick]]. Hopefully there will be some command line settings that will remove this CMY "ghosting". The best solution would be a proper export from Inkscape.

**Gray-Scale Conversion**
Using either either Inkscape or [[ImageMagick]], deploy a process that will output to a proper gray-scale paged image that can be bound with other RGB or CMYK pages. This should prevent "fuzzyness" from printing with color. If the image is an imitation gray-scale made from CMYK it could go fuzzy if there isn't good plate alignment on the press.

**m008**
This map needs to be adjusted so it can be split down the middle easier. It might be necessary to create an m008a and m008b at some point but this is the first step toward that. (this may not be that useful, more testing needs to be done.)
